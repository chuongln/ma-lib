import { Component, forwardRef, Input, } from '@angular/core';
import { FormsModule, NG_VALUE_ACCESSOR, ReactiveFormsModule } from '@angular/forms';
import { OverlayPanelModule } from 'primeng/overlaypanel';
import { ButtonModule } from 'primeng/button';
import { MultiSelectModule } from 'primeng/multiselect';
import { InputTextModule } from 'primeng/inputtext';
import { MaLibModule } from '../../../ma-lib.module';
import { DropdownModule } from 'primeng/dropdown';
import * as i0 from "@angular/core";
import * as i1 from "@ngx-translate/core";
import * as i2 from "@angular/common";
import * as i3 from "../../view-svg/view-svg.component";
import * as i4 from "@angular/forms";
import * as i5 from "primeng/overlaypanel";
import * as i6 from "primeng/api";
import * as i7 from "primeng/button";
import * as i8 from "primeng/inputtext";
import * as i9 from "primeng/dropdown";
import * as i10 from "primeng/multiselect";
export class FiltersComponent {
    get f() {
        return this.formGroup?.controls;
    }
    constructor(translate) {
        this.translate = translate;
        this.filters = [];
        this.tempFormValues = {};
    }
    ngOnInit() {
    }
    openFilterPanel() {
        this.tempFormValues = { ...this.formGroup.value };
    }
    applyFilters() {
        this.filters.forEach(filter => {
            this.formGroup?.get(filter.formControlName)?.setValue(this.tempFormValues[filter.formControlName]);
        });
    }
    getTooltipText(filter) {
        const control = this.tempFormValues[`${filter.formControlName}`];
        if (control) {
            const selectedOptions = filter.options.filter(option => control.includes(option[filter.optionValue || 'value']));
            return selectedOptions.length > 0
                ? selectedOptions.map(option => this.translate.instant(option[filter.optionLabel || 'label'])).join(', ')
                : '';
        }
        return '';
    }
    getNumFiltersWithValues() {
        return this.filters.reduce((count, filter) => {
            const value = this.f[filter.formControlName]?.value;
            return value && value.length ? count + 1 : count;
        }, 0);
    }
    clearFilter() {
        this.filters.forEach(filter => {
            this.formGroup?.get(filter.formControlName)?.setValue(null);
        });
    }
    formatFilter(s1, s2) {
        if (!s1)
            return '';
        return s1.toString().padStart(2, '0') + '/' + s2.toString().padStart(2, '0') + ' ' + this.translate.instant('selected');
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: FiltersComponent, deps: [{ token: i1.TranslateService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: FiltersComponent, isStandalone: true, selector: "filters", inputs: { formGroup: "formGroup", filters: "filters" }, providers: [
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => FiltersComponent),
                multi: true,
            }
        ], ngImport: i0, template: "<div class=\"flex\">\n  <div class=\"list-multi-select \">\n    <div>\n      <button type=\"button\" pButton (click)=\"filterPanel.toggle($event)\" class=\"p-button-text button-custom-filter\">\n        <view-svg name=\"controlsAt\"></view-svg>\n\n        <span class=\"p-button-label\" [class.open]=\"filterPanel.overlayVisible\"\n          *ngIf=\"!getNumFiltersWithValues()\">{{'moreFilter' | translate}}</span>\n        <span class=\"p-button-label open\" *ngIf=\"getNumFiltersWithValues()\">{{'filtered' |\n          translate}} ({{getNumFiltersWithValues()}}/{{filters.length}})</span>\n      </button>\n      <p-overlayPanel #filterPanel (onShow)=\"openFilterPanel()\" [showCloseIcon]=\"false\" [style]=\"{width: '450px'}\">\n\n        <div class=\"filter-panel\">\n          <div class=\"filter-item\" *ngFor=\"let filter of filters\">\n            <div class=\"flex align-items-center justify-content-between\">\n              <label>{{ filter.label | translate }}</label>\n              <label *ngIf=\"filter.type =='multi-select' && tempFormValues[filter.formControlName] && filter.options\">\n                {{formatFilter(tempFormValues[filter.formControlName].length,filter.options.length)}}\n              </label>\n            </div>\n            <ng-container *ngIf=\"filter.type == 'multi-select'\">\n              <p-multiSelect [pTooltip]=\"getTooltipText(filter)\" appendTo=\"body\" tooltipPosition=\"bottom\"\n                [optionValue]=\"filter.optionValue || 'value'\" [options]=\"filter.options\" ngDefaultControl\n                [placeholder]=\"(filter.placeholder ||'all') | translate\"\n                [(ngModel)]=\"tempFormValues[filter.formControlName]\">\n\n                <ng-template let-selectedItems pTemplate=\"selectedItems\">\n                  <span *ngIf=\"selectedItems?.length > 0\">\n                    {{ getTooltipText(filter)}}\n                  </span>\n                  <span *ngIf=\"!selectedItems || selectedItems.length === 0\">\n                    {{ (filter.placeholder ||'all') | translate }}\n                  </span>\n                </ng-template>\n                <ng-template pTemplate=\"option\" let-option>{{ (option[filter.optionLabel || 'label' ]) | translate}}\n                </ng-template>\n              </p-multiSelect>\n            </ng-container>\n\n            <ng-container *ngIf=\"filter.type == 'select'\">\n              <p-dropdown [(ngModel)]=\"tempFormValues[filter.formControlName]\" [options]=\"filter.options\"\n                [optionValue]=\"filter.optionValue || 'value'\" (onShow)=\"handleDropdownOpen()\"\n                [placeholder]=\"(filter.placeholder ||'') | translate\" (onHide)=\"handleDropdownClose()\">\n                <ng-template let-selectedItem pTemplate=\"selectedItem\">\n                  <span *ngIf=\"selectedItem\">\n                    {{ selectedItem[filter.optionLabel || 'label' ] | translate}}\n                  </span>\n                  <span *ngIf=\"!selectedItem \">\n                    {{ (filter.placeholder || '') | translate }}\n                  </span>\n                </ng-template>\n                <ng-template pTemplate=\"option\" let-option>{{option[filter.optionLabel || 'label' ] | translate}}\n                </ng-template>\n              </p-dropdown>\n            </ng-container>\n            <ng-container *ngIf=\"filter.type == 'text'\">\n              <input type=\"text\" pInputText [placeholder]=\"(filter.placeholder || '')| translate\"\n                [(ngModel)]=\"tempFormValues[filter.formControlName]\" />\n            </ng-container>\n          </div>\n          <div class=\"filter-actions\">\n            <button pButton type=\"button\" [label]=\"'cancel'| translate\" class=\"p-button-outlined\"\n              (click)=\"filterPanel.hide()\"></button>\n            <button pButton type=\"button\" [label]=\"'apply'| translate\" class=\"p-button-primary\"\n              (click)=\"applyFilters(); filterPanel.hide()\"></button>\n          </div>\n        </div>\n      </p-overlayPanel>\n    </div>\n  </div>\n  <ng-container *ngIf=\"getNumFiltersWithValues()\">\n    <div class=\"col-divider\"></div>\n    <div class=\"combo-multi-select \">\n      <div>\n        <button type=\"button\" pButton (click)=\"clearFilter()\" class=\"p-button-text button-custom-filter\">\n          <view-svg name=\"arrowReload\"></view-svg>\n          <span class=\"p-button-label\">{{'clearFilter' | translate}}</span>\n        </button>\n      </div>\n    </div>\n  </ng-container>\n</div>", styles: ["::ng-deep .list-multi-select{padding:1rem}::ng-deep .list-multi-select .p-button-label{padding-left:8px}::ng-deep .list-multi-select .p-button{padding-left:4px}::ng-deep .list-multi-select .p-overlaypanel:after,::ng-deep .list-multi-select .p-overlaypanel:before{display:none}.filter-panel{display:flex;flex-direction:column;gap:1rem;padding:1rem;max-height:65vh;overflow:auto}.filter-panel *{font-size:12px!important}.filter-panel .filter-item{display:flex;flex-direction:column}.filter-panel .filter-item label{font-size:14px;margin-bottom:.5rem;color:#333}.filter-panel .filter-item ::ng-deep .p-multiselect{width:100%}.filter-panel .filter-actions{display:flex;justify-content:flex-end;gap:1rem}.filter-panel .filter-actions button{min-width:100px}.button-custom-filter{border:unset!important;box-shadow:unset!important;background:#fff!important;color:#404040!important;transition:0s}.button-custom-filter span{font-weight:400}.button-custom-filter:has(.open){transition:0s;color:#2e6be5!important}.button-custom-filter:has(.open) ::ng-deep path{stroke:#2e6be5}.col-divider{height:40px;width:1px;background-color:#e6e6e6;align-self:center}::ng-deep .combo-multi-select{padding:1rem}::ng-deep .combo-multi-select .p-button-label{padding-left:8px}::ng-deep .combo-multi-select .p-button{padding-left:4px}::ng-deep .combo-multi-select .p-overlaypanel:after,::ng-deep .combo-multi-select .p-overlaypanel:before{display:none}::ng-deep .filter-item .p-dropdown{width:100%}\n"], dependencies: [{ kind: "ngmodule", type: MaLibModule }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.ViewSvgComponent, selector: "view-svg", inputs: ["name"] }, { kind: "pipe", type: i1.TranslatePipe, name: "translate" }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i4.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i4.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: OverlayPanelModule }, { kind: "component", type: i5.OverlayPanel, selector: "p-overlayPanel", inputs: ["dismissable", "showCloseIcon", "style", "styleClass", "appendTo", "autoZIndex", "ariaCloseLabel", "baseZIndex", "focusOnShow", "showTransitionOptions", "hideTransitionOptions"], outputs: ["onShow", "onHide"] }, { kind: "directive", type: i6.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "ngmodule", type: ButtonModule }, { kind: "directive", type: i7.ButtonDirective, selector: "[pButton]", inputs: ["iconPos", "loadingIcon", "label", "icon", "loading"] }, { kind: "ngmodule", type: InputTextModule }, { kind: "directive", type: i8.InputText, selector: "[pInputText]" }, { kind: "ngmodule", type: DropdownModule }, { kind: "component", type: i9.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "overlayDirection", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "ngmodule", type: MultiSelectModule }, { kind: "component", type: i10.MultiSelect, selector: "p-multiSelect", inputs: ["style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "label", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "filterBy", "scrollHeight", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "defaultLabel", "placeholder", "options", "filterValue", "itemSize"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide", "onLazyLoad", "onRemove"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: FiltersComponent, decorators: [{
            type: Component,
            args: [{ selector: 'filters', standalone: true, imports: [
                        MaLibModule,
                        ReactiveFormsModule,
                        FormsModule,
                        OverlayPanelModule,
                        ButtonModule,
                        InputTextModule,
                        DropdownModule,
                        MultiSelectModule
                    ], providers: [
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => FiltersComponent),
                            multi: true,
                        }
                    ], template: "<div class=\"flex\">\n  <div class=\"list-multi-select \">\n    <div>\n      <button type=\"button\" pButton (click)=\"filterPanel.toggle($event)\" class=\"p-button-text button-custom-filter\">\n        <view-svg name=\"controlsAt\"></view-svg>\n\n        <span class=\"p-button-label\" [class.open]=\"filterPanel.overlayVisible\"\n          *ngIf=\"!getNumFiltersWithValues()\">{{'moreFilter' | translate}}</span>\n        <span class=\"p-button-label open\" *ngIf=\"getNumFiltersWithValues()\">{{'filtered' |\n          translate}} ({{getNumFiltersWithValues()}}/{{filters.length}})</span>\n      </button>\n      <p-overlayPanel #filterPanel (onShow)=\"openFilterPanel()\" [showCloseIcon]=\"false\" [style]=\"{width: '450px'}\">\n\n        <div class=\"filter-panel\">\n          <div class=\"filter-item\" *ngFor=\"let filter of filters\">\n            <div class=\"flex align-items-center justify-content-between\">\n              <label>{{ filter.label | translate }}</label>\n              <label *ngIf=\"filter.type =='multi-select' && tempFormValues[filter.formControlName] && filter.options\">\n                {{formatFilter(tempFormValues[filter.formControlName].length,filter.options.length)}}\n              </label>\n            </div>\n            <ng-container *ngIf=\"filter.type == 'multi-select'\">\n              <p-multiSelect [pTooltip]=\"getTooltipText(filter)\" appendTo=\"body\" tooltipPosition=\"bottom\"\n                [optionValue]=\"filter.optionValue || 'value'\" [options]=\"filter.options\" ngDefaultControl\n                [placeholder]=\"(filter.placeholder ||'all') | translate\"\n                [(ngModel)]=\"tempFormValues[filter.formControlName]\">\n\n                <ng-template let-selectedItems pTemplate=\"selectedItems\">\n                  <span *ngIf=\"selectedItems?.length > 0\">\n                    {{ getTooltipText(filter)}}\n                  </span>\n                  <span *ngIf=\"!selectedItems || selectedItems.length === 0\">\n                    {{ (filter.placeholder ||'all') | translate }}\n                  </span>\n                </ng-template>\n                <ng-template pTemplate=\"option\" let-option>{{ (option[filter.optionLabel || 'label' ]) | translate}}\n                </ng-template>\n              </p-multiSelect>\n            </ng-container>\n\n            <ng-container *ngIf=\"filter.type == 'select'\">\n              <p-dropdown [(ngModel)]=\"tempFormValues[filter.formControlName]\" [options]=\"filter.options\"\n                [optionValue]=\"filter.optionValue || 'value'\" (onShow)=\"handleDropdownOpen()\"\n                [placeholder]=\"(filter.placeholder ||'') | translate\" (onHide)=\"handleDropdownClose()\">\n                <ng-template let-selectedItem pTemplate=\"selectedItem\">\n                  <span *ngIf=\"selectedItem\">\n                    {{ selectedItem[filter.optionLabel || 'label' ] | translate}}\n                  </span>\n                  <span *ngIf=\"!selectedItem \">\n                    {{ (filter.placeholder || '') | translate }}\n                  </span>\n                </ng-template>\n                <ng-template pTemplate=\"option\" let-option>{{option[filter.optionLabel || 'label' ] | translate}}\n                </ng-template>\n              </p-dropdown>\n            </ng-container>\n            <ng-container *ngIf=\"filter.type == 'text'\">\n              <input type=\"text\" pInputText [placeholder]=\"(filter.placeholder || '')| translate\"\n                [(ngModel)]=\"tempFormValues[filter.formControlName]\" />\n            </ng-container>\n          </div>\n          <div class=\"filter-actions\">\n            <button pButton type=\"button\" [label]=\"'cancel'| translate\" class=\"p-button-outlined\"\n              (click)=\"filterPanel.hide()\"></button>\n            <button pButton type=\"button\" [label]=\"'apply'| translate\" class=\"p-button-primary\"\n              (click)=\"applyFilters(); filterPanel.hide()\"></button>\n          </div>\n        </div>\n      </p-overlayPanel>\n    </div>\n  </div>\n  <ng-container *ngIf=\"getNumFiltersWithValues()\">\n    <div class=\"col-divider\"></div>\n    <div class=\"combo-multi-select \">\n      <div>\n        <button type=\"button\" pButton (click)=\"clearFilter()\" class=\"p-button-text button-custom-filter\">\n          <view-svg name=\"arrowReload\"></view-svg>\n          <span class=\"p-button-label\">{{'clearFilter' | translate}}</span>\n        </button>\n      </div>\n    </div>\n  </ng-container>\n</div>", styles: ["::ng-deep .list-multi-select{padding:1rem}::ng-deep .list-multi-select .p-button-label{padding-left:8px}::ng-deep .list-multi-select .p-button{padding-left:4px}::ng-deep .list-multi-select .p-overlaypanel:after,::ng-deep .list-multi-select .p-overlaypanel:before{display:none}.filter-panel{display:flex;flex-direction:column;gap:1rem;padding:1rem;max-height:65vh;overflow:auto}.filter-panel *{font-size:12px!important}.filter-panel .filter-item{display:flex;flex-direction:column}.filter-panel .filter-item label{font-size:14px;margin-bottom:.5rem;color:#333}.filter-panel .filter-item ::ng-deep .p-multiselect{width:100%}.filter-panel .filter-actions{display:flex;justify-content:flex-end;gap:1rem}.filter-panel .filter-actions button{min-width:100px}.button-custom-filter{border:unset!important;box-shadow:unset!important;background:#fff!important;color:#404040!important;transition:0s}.button-custom-filter span{font-weight:400}.button-custom-filter:has(.open){transition:0s;color:#2e6be5!important}.button-custom-filter:has(.open) ::ng-deep path{stroke:#2e6be5}.col-divider{height:40px;width:1px;background-color:#e6e6e6;align-self:center}::ng-deep .combo-multi-select{padding:1rem}::ng-deep .combo-multi-select .p-button-label{padding-left:8px}::ng-deep .combo-multi-select .p-button{padding-left:4px}::ng-deep .combo-multi-select .p-overlaypanel:after,::ng-deep .combo-multi-select .p-overlaypanel:before{display:none}::ng-deep .filter-item .p-dropdown{width:100%}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.TranslateService }]; }, propDecorators: { formGroup: [{
                type: Input
            }], filters: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVycy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tYS1saWIvc3JjL2xpYi9jb21wb25lbnQvZm9ybS9maWx0ZXJzL2ZpbHRlcnMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbWEtbGliL3NyYy9saWIvY29tcG9uZW50L2Zvcm0vZmlsdGVycy9maWx0ZXJzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQ1QsVUFBVSxFQUNWLEtBQUssR0FFTixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQWEsV0FBVyxFQUFFLGlCQUFpQixFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDaEcsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDMUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTlDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXhELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDckQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDOzs7Ozs7Ozs7Ozs7QUF5QmxELE1BQU0sT0FBTyxnQkFBZ0I7SUFRM0IsSUFBSSxDQUFDO1FBQ0gsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQztJQUNsQyxDQUFDO0lBRUQsWUFDVSxTQUEyQjtRQUEzQixjQUFTLEdBQVQsU0FBUyxDQUFrQjtRQVQ1QixZQUFPLEdBQWEsRUFBRSxDQUFDO1FBRWhDLG1CQUFjLEdBQVEsRUFBRSxDQUFDO0lBU3pCLENBQUM7SUFDRCxRQUFRO0lBRVIsQ0FBQztJQUVE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ZUFBZSxtR0FDZixjQUFjLCtrQ0FDZCxpQkFBaUI7OzRGQVdSLGdCQUFnQjtrQkF2QjVCLFNBQVM7K0JBQ0UsU0FBUyxjQUVQLElBQUksV0FDUDt3QkFDUCxXQUFXO3dCQUNYLG1CQUFtQjt3QkFDbkIsV0FBVzt3QkFDWCxrQkFBa0I7d0JBQ2xCLFlBQVk7d0JBQ1osZUFBZTt3QkFDZixjQUFjO3dCQUNkLGlCQUFpQjtxQkFDbEIsYUFFVTt3QkFDVDs0QkFDRSxPQUFPLEVBQUUsaUJBQWlCOzRCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQzs0QkFDL0MsS0FBSyxFQUFFLElBQUk7eUJBQ1o7cUJBQ0Y7dUdBS1EsU0FBUztzQkFBakIsS0FBSztnQkFDRyxPQUFPO3NCQUFmLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIGZvcndhcmRSZWYsXG4gIElucHV0LFxuICBPbkluaXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3Jtc01vZHVsZSwgTkdfVkFMVUVfQUNDRVNTT1IsIFJlYWN0aXZlRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBPdmVybGF5UGFuZWxNb2R1bGUgfSBmcm9tICdwcmltZW5nL292ZXJsYXlwYW5lbCc7XG5pbXBvcnQgeyBCdXR0b25Nb2R1bGUgfSBmcm9tICdwcmltZW5nL2J1dHRvbic7XG5pbXBvcnQgeyBUcmFuc2xhdGVTZXJ2aWNlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBNdWx0aVNlbGVjdE1vZHVsZSB9IGZyb20gJ3ByaW1lbmcvbXVsdGlzZWxlY3QnO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi9maWx0ZXJzLmludGVyZmFjZSc7XG5pbXBvcnQgeyBJbnB1dFRleHRNb2R1bGUgfSBmcm9tICdwcmltZW5nL2lucHV0dGV4dCc7XG5pbXBvcnQgeyBNYUxpYk1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL21hLWxpYi5tb2R1bGUnO1xuaW1wb3J0IHsgRHJvcGRvd25Nb2R1bGUgfSBmcm9tICdwcmltZW5nL2Ryb3Bkb3duJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZmlsdGVycycsXG4gIHRlbXBsYXRlVXJsOiAnLi9maWx0ZXJzLmNvbXBvbmVudC5odG1sJyxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIE1hTGliTW9kdWxlLFxuICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgT3ZlcmxheVBhbmVsTW9kdWxlLFxuICAgIEJ1dHRvbk1vZHVsZSxcbiAgICBJbnB1dFRleHRNb2R1bGUsXG4gICAgRHJvcGRvd25Nb2R1bGUsXG4gICAgTXVsdGlTZWxlY3RNb2R1bGVcbiAgXSxcbiAgc3R5bGVVcmxzOiBbJ2ZpbHRlcnMuY29tcG9uZW50LnNjc3MnXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBGaWx0ZXJzQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlLFxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBGaWx0ZXJzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuXG4gIEBJbnB1dCgpIGZvcm1Hcm91cDogRm9ybUdyb3VwO1xuICBASW5wdXQoKSBmaWx0ZXJzOiBGaWx0ZXJbXSA9IFtdO1xuXG4gIHRlbXBGb3JtVmFsdWVzOiBhbnkgPSB7fTtcblxuICBnZXQgZigpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtR3JvdXA/LmNvbnRyb2xzO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB0cmFuc2xhdGU6IFRyYW5zbGF0ZVNlcnZpY2UsXG4gICkge1xuICB9XG4gIG5nT25Jbml0KCk6IHZvaWQge1xuXG4gIH1cblxuICBvcGVuRmlsdGVyUGFuZWwoKTogdm9pZCB7XG4gICAgdGhpcy50ZW1wRm9ybVZhbHVlcyA9IHsgLi4udGhpcy5mb3JtR3JvdXAudmFsdWUgfTtcbiAgfVxuICBhcHBseUZpbHRlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5maWx0ZXJzLmZvckVhY2goZmlsdGVyID0+IHtcbiAgICAgIHRoaXMuZm9ybUdyb3VwPy5nZXQoZmlsdGVyLmZvcm1Db250cm9sTmFtZSk/LnNldFZhbHVlKHRoaXMudGVtcEZvcm1WYWx1ZXNbZmlsdGVyLmZvcm1Db250cm9sTmFtZV0pO1xuICAgIH0pO1xuICB9XG4gIGdldFRvb2x0aXBUZXh0KGZpbHRlcjogYW55KTogc3RyaW5nIHtcbiAgICBjb25zdCBjb250cm9sID0gdGhpcy50ZW1wRm9ybVZhbHVlc1tgJHtmaWx0ZXIuZm9ybUNvbnRyb2xOYW1lfWBdO1xuICAgIGlmIChjb250cm9sKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbnMgPSBmaWx0ZXIub3B0aW9ucy5maWx0ZXIob3B0aW9uID0+IGNvbnRyb2wuaW5jbHVkZXMob3B0aW9uW2ZpbHRlci5vcHRpb25WYWx1ZSB8fCAndmFsdWUnXSkpO1xuICAgICAgcmV0dXJuIHNlbGVjdGVkT3B0aW9ucy5sZW5ndGggPiAwXG4gICAgICAgID8gc2VsZWN0ZWRPcHRpb25zLm1hcChvcHRpb24gPT4gdGhpcy50cmFuc2xhdGUuaW5zdGFudChvcHRpb25bZmlsdGVyLm9wdGlvbkxhYmVsIHx8ICdsYWJlbCddKSkuam9pbignLCAnKVxuICAgICAgICA6ICcnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgZ2V0TnVtRmlsdGVyc1dpdGhWYWx1ZXMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJzLnJlZHVjZSgoY291bnQsIGZpbHRlcikgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmZbZmlsdGVyLmZvcm1Db250cm9sTmFtZV0/LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLmxlbmd0aCA/IGNvdW50ICsgMSA6IGNvdW50O1xuICAgIH0sIDApO1xuICB9XG4gIGNsZWFyRmlsdGVyKCkge1xuICAgIHRoaXMuZmlsdGVycy5mb3JFYWNoKGZpbHRlciA9PiB7XG4gICAgICB0aGlzLmZvcm1Hcm91cD8uZ2V0KGZpbHRlci5mb3JtQ29udHJvbE5hbWUpPy5zZXRWYWx1ZShudWxsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZvcm1hdEZpbHRlcihzMSwgczIpIHtcbiAgICBpZiAoIXMxKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIHMxLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKSArICcvJyArIHMyLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKSArICcgJyArIHRoaXMudHJhbnNsYXRlLmluc3RhbnQoJ3NlbGVjdGVkJyk7XG4gIH1cbn0gIiwiPGRpdiBjbGFzcz1cImZsZXhcIj5cbiAgPGRpdiBjbGFzcz1cImxpc3QtbXVsdGktc2VsZWN0IFwiPlxuICAgIDxkaXY+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBwQnV0dG9uIChjbGljayk9XCJmaWx0ZXJQYW5lbC50b2dnbGUoJGV2ZW50KVwiIGNsYXNzPVwicC1idXR0b24tdGV4dCBidXR0b24tY3VzdG9tLWZpbHRlclwiPlxuICAgICAgICA8dmlldy1zdmcgbmFtZT1cImNvbnRyb2xzQXRcIj48L3ZpZXctc3ZnPlxuXG4gICAgICAgIDxzcGFuIGNsYXNzPVwicC1idXR0b24tbGFiZWxcIiBbY2xhc3Mub3Blbl09XCJmaWx0ZXJQYW5lbC5vdmVybGF5VmlzaWJsZVwiXG4gICAgICAgICAgKm5nSWY9XCIhZ2V0TnVtRmlsdGVyc1dpdGhWYWx1ZXMoKVwiPnt7J21vcmVGaWx0ZXInIHwgdHJhbnNsYXRlfX08L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwicC1idXR0b24tbGFiZWwgb3BlblwiICpuZ0lmPVwiZ2V0TnVtRmlsdGVyc1dpdGhWYWx1ZXMoKVwiPnt7J2ZpbHRlcmVkJyB8XG4gICAgICAgICAgdHJhbnNsYXRlfX0gKHt7Z2V0TnVtRmlsdGVyc1dpdGhWYWx1ZXMoKX19L3t7ZmlsdGVycy5sZW5ndGh9fSk8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxwLW92ZXJsYXlQYW5lbCAjZmlsdGVyUGFuZWwgKG9uU2hvdyk9XCJvcGVuRmlsdGVyUGFuZWwoKVwiIFtzaG93Q2xvc2VJY29uXT1cImZhbHNlXCIgW3N0eWxlXT1cInt3aWR0aDogJzQ1MHB4J31cIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLXBhbmVsXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1pdGVtXCIgKm5nRm9yPVwibGV0IGZpbHRlciBvZiBmaWx0ZXJzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGxhYmVsPnt7IGZpbHRlci5sYWJlbCB8IHRyYW5zbGF0ZSB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbCAqbmdJZj1cImZpbHRlci50eXBlID09J211bHRpLXNlbGVjdCcgJiYgdGVtcEZvcm1WYWx1ZXNbZmlsdGVyLmZvcm1Db250cm9sTmFtZV0gJiYgZmlsdGVyLm9wdGlvbnNcIj5cbiAgICAgICAgICAgICAgICB7e2Zvcm1hdEZpbHRlcih0ZW1wRm9ybVZhbHVlc1tmaWx0ZXIuZm9ybUNvbnRyb2xOYW1lXS5sZW5ndGgsZmlsdGVyLm9wdGlvbnMubGVuZ3RoKX19XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJmaWx0ZXIudHlwZSA9PSAnbXVsdGktc2VsZWN0J1wiPlxuICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCBbcFRvb2x0aXBdPVwiZ2V0VG9vbHRpcFRleHQoZmlsdGVyKVwiIGFwcGVuZFRvPVwiYm9keVwiIHRvb2x0aXBQb3NpdGlvbj1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgW29wdGlvblZhbHVlXT1cImZpbHRlci5vcHRpb25WYWx1ZSB8fCAndmFsdWUnXCIgW29wdGlvbnNdPVwiZmlsdGVyLm9wdGlvbnNcIiBuZ0RlZmF1bHRDb250cm9sXG4gICAgICAgICAgICAgICAgW3BsYWNlaG9sZGVyXT1cIihmaWx0ZXIucGxhY2Vob2xkZXIgfHwnYWxsJykgfCB0cmFuc2xhdGVcIlxuICAgICAgICAgICAgICAgIFsobmdNb2RlbCldPVwidGVtcEZvcm1WYWx1ZXNbZmlsdGVyLmZvcm1Db250cm9sTmFtZV1cIj5cblxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtc2VsZWN0ZWRJdGVtcyBwVGVtcGxhdGU9XCJzZWxlY3RlZEl0ZW1zXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInNlbGVjdGVkSXRlbXM/Lmxlbmd0aCA+IDBcIj5cbiAgICAgICAgICAgICAgICAgICAge3sgZ2V0VG9vbHRpcFRleHQoZmlsdGVyKX19XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIiFzZWxlY3RlZEl0ZW1zIHx8IHNlbGVjdGVkSXRlbXMubGVuZ3RoID09PSAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7IChmaWx0ZXIucGxhY2Vob2xkZXIgfHwnYWxsJykgfCB0cmFuc2xhdGUgfX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBwVGVtcGxhdGU9XCJvcHRpb25cIiBsZXQtb3B0aW9uPnt7IChvcHRpb25bZmlsdGVyLm9wdGlvbkxhYmVsIHx8ICdsYWJlbCcgXSkgfCB0cmFuc2xhdGV9fVxuICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgIDwvcC1tdWx0aVNlbGVjdD5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZmlsdGVyLnR5cGUgPT0gJ3NlbGVjdCdcIj5cbiAgICAgICAgICAgICAgPHAtZHJvcGRvd24gWyhuZ01vZGVsKV09XCJ0ZW1wRm9ybVZhbHVlc1tmaWx0ZXIuZm9ybUNvbnRyb2xOYW1lXVwiIFtvcHRpb25zXT1cImZpbHRlci5vcHRpb25zXCJcbiAgICAgICAgICAgICAgICBbb3B0aW9uVmFsdWVdPVwiZmlsdGVyLm9wdGlvblZhbHVlIHx8ICd2YWx1ZSdcIiAob25TaG93KT1cImhhbmRsZURyb3Bkb3duT3BlbigpXCJcbiAgICAgICAgICAgICAgICBbcGxhY2Vob2xkZXJdPVwiKGZpbHRlci5wbGFjZWhvbGRlciB8fCcnKSB8IHRyYW5zbGF0ZVwiIChvbkhpZGUpPVwiaGFuZGxlRHJvcGRvd25DbG9zZSgpXCI+XG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1zZWxlY3RlZEl0ZW0gcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInNlbGVjdGVkSXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICB7eyBzZWxlY3RlZEl0ZW1bZmlsdGVyLm9wdGlvbkxhYmVsIHx8ICdsYWJlbCcgXSB8IHRyYW5zbGF0ZX19XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIiFzZWxlY3RlZEl0ZW0gXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7IChmaWx0ZXIucGxhY2Vob2xkZXIgfHwgJycpIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwib3B0aW9uXCIgbGV0LW9wdGlvbj57e29wdGlvbltmaWx0ZXIub3B0aW9uTGFiZWwgfHwgJ2xhYmVsJyBdIHwgdHJhbnNsYXRlfX1cbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJmaWx0ZXIudHlwZSA9PSAndGV4dCdcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcElucHV0VGV4dCBbcGxhY2Vob2xkZXJdPVwiKGZpbHRlci5wbGFjZWhvbGRlciB8fCAnJyl8IHRyYW5zbGF0ZVwiXG4gICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJ0ZW1wRm9ybVZhbHVlc1tmaWx0ZXIuZm9ybUNvbnRyb2xOYW1lXVwiIC8+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLWFjdGlvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gcEJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgW2xhYmVsXT1cIidjYW5jZWwnfCB0cmFuc2xhdGVcIiBjbGFzcz1cInAtYnV0dG9uLW91dGxpbmVkXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImZpbHRlclBhbmVsLmhpZGUoKVwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBwQnV0dG9uIHR5cGU9XCJidXR0b25cIiBbbGFiZWxdPVwiJ2FwcGx5J3wgdHJhbnNsYXRlXCIgY2xhc3M9XCJwLWJ1dHRvbi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImFwcGx5RmlsdGVycygpOyBmaWx0ZXJQYW5lbC5oaWRlKClcIj48L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3Atb3ZlcmxheVBhbmVsPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImdldE51bUZpbHRlcnNXaXRoVmFsdWVzKClcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLWRpdmlkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29tYm8tbXVsdGktc2VsZWN0IFwiPlxuICAgICAgPGRpdj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgcEJ1dHRvbiAoY2xpY2spPVwiY2xlYXJGaWx0ZXIoKVwiIGNsYXNzPVwicC1idXR0b24tdGV4dCBidXR0b24tY3VzdG9tLWZpbHRlclwiPlxuICAgICAgICAgIDx2aWV3LXN2ZyBuYW1lPVwiYXJyb3dSZWxvYWRcIj48L3ZpZXctc3ZnPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicC1idXR0b24tbGFiZWxcIj57eydjbGVhckZpbHRlcicgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9uZy1jb250YWluZXI+XG48L2Rpdj4iXX0=